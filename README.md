# π“” SpringEssentialGuide
μ±…μ„ ν†µν• μ¤ν”„λ§ λ¶€νΈ κ³µλ¶€

<br>

## π›΅οΈ REST API λ…μ„Έλ¥Ό λ¬Έμ„ν™”
- λ…μ„Έλ€ ν•΄λ‹Ή APIκ°€ μ–΄λ–¤ λ΅μ§μ„ μν–‰ν•λ”μ§€ μ„¤λ…ν•κ³  μ΄ λ΅μ§μ„ μν–‰ν•κΈ° μ„ν•΄ μ–΄λ–¤ κ°’μ„ μ”μ²­ν•λ©°, μ΄μ— λ”°λ¥Έ μ‘λ‹µκ°’μΌλ΅λ” λ¬΄μ—‡μ„ λ°›μ„ μ μλ”μ§€λ¥Ό μ •λ¦¬ν• μλ£μ…λ‹λ‹¤.
- APIλ” κ°λ° κ³Όμ •μ—μ„ κ³„μ† λ³€κ²½λλ―€λ΅ μ‘μ„±ν• λ¬Έμ„λ„ μ£ΌκΈ°μ μΈ μ—…λ°μ΄νΈκ°€ ν•„μ”ν•©λ‹λ‹¤. λν• λ…μ„Έ μ‘μ—…μ€ λ²κ±°λ΅­κ³  μ¤λ κ±Έλ¦¬κΈ° λ•λ¬Έμ— λ“±μ¥ν• κ²ƒμ΄ Swaggerμ…λ‹λ‹¤.

1. gradle μ΄λ―€λ΅ μμ΅΄μ„± μ¶”κ°€ν•©λ‹λ‹¤
```java
implementation group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.9.2'
implementation group: 'io.springfox', name: 'springfox-swagger2', version: '2.9.2'
```

2. Swagger μ„¤μ • μ½”λ“ μ¶”κ°€
`SwaggerConfiguration` ν΄λμ¤ μƒμ„±ν•©λ‹λ‹¤.

3. μ• ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰ν• ν›„ `http://localhost:8080/swagger-ui.html`λ΅ μ ‘μ†ν•λ©΄ Swagger νμ΄μ§€κ°€ μ¶λ ¥λ©λ‹λ‹¤.

4. μ‹¤ν–‰ ν™”λ©΄


<br>

---

<br>

## π›΅οΈ λ΅κΉ…μ΄λ€
μ‹μ¤ν…μ μƒνƒλ‚ λ™μ‘ μ •λ³΄λ¥Ό μ‹κ°„ μμΌλ΅ κΈ°λ΅ν•λ” κ²ƒμ„ μλ―Έν•©λ‹λ‹¤.<br>
λ””λ²„κΉ…ν•κ±°λ‚ κ°λ° μ΄ν›„ λ°μƒν• λ¬Έμ λ¥Ό ν•΄κ²°ν•  λ• μ›μΈμ„ λ¶„μ„ν•λ” λ° κΌ­ ν•„μ”ν• μ”μ†μ…λ‹λ‹¤. <br>
slf4jλ¥Ό ν†µν•΄ λ΅κ·Έλ¥Ό μ°μ„ μ μμµλ‹λ‹¤.

ERROR - λ΅μ§ μν–‰ μ¤‘μ— μ‹μ¤ν…μ— μ‹¬κ°ν• λ¬Έμ κ°€ λ°μƒν•΄μ„ μ• ν”λ¦¬μΌ€μ΄μ…μ μ‘λ™μ΄ λ¶κ°€λ¥ν• κ²½μ°.

WARN - μ‹μ¤ν… μ—λ¬μ μ›μ΄μ΄ λ  μ μλ” κ²½κ³  λ λ²¨.

INFO - μ• ν”λ¦¬μΌ€μ΄μ…μ μƒνƒ λ³€κ²½κ³Ό κ°™μ€ μ •λ³΄ μ „λ‹¬μ„ μ„ν•΄ μ‚¬μ©.

DEBUG - μ• ν”λ¦¬μΌ€μ΄μ…μ λ””λ²„κΉ…μ„ μ„ν• λ©”μ‹μ§€λ¥Ό ν‘μ‹ν•λ” λ λ²¨.

TRACE - DEBUG λ λ²¨λ³΄λ‹¤ λ” μƒμ„Έν• λ©”μ‹μ§€λ¥Ό ν‘ν„ν•κΈ° μ„ν• λ λ²¨.

<br>

---

<br>

## π›΅οΈ ν…μ¤νΈ μ½”λ“
λ‹¨μ„ ν…μ¤νΈ : ν…μ¤νΈ λ€μƒμ λ²”μ„λ¥Ό κΈ°μ¤€μΌλ΅ κ°€μ¥ μ‘μ€ λ‹¨μ„μ ν…μ¤νΈ λ°©μ‹.<br>
μΌλ°μ μΌλ΅ λ©”μ„λ“ λ‹¨μ„λ΅ ν…μ¤νΈλ¥Ό μν–‰ν•κ² λλ©°, λ©”μ„λ“ νΈμ¶μ„ ν†µν•΄ μλ„ν• κ²°κ΄κ°’μ΄ λ‚μ¤λ”μ§€ ν™•μΈν•λ” μμ¤€μΌλ΅ ν…μ¤νΈ.

ν†µν•© ν…μ¤νΈ : λ¨λ“μ„ ν†µν•©ν•λ” κ³Όμ •μ—μ„μ νΈν™μ„± λ“±μ„ ν¬ν•¨ν•΄ μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•λ”μ§€ ν™•μΈν•κΈ° μ„ν•΄ μν–‰ν•λ” ν…μ¤νΈ λ°©μ‹.<br>
λ‹¨μ„ ν…μ¤νΈλ” λ¨λ“μ„ λ…λ¦½μ μΌλ΅ ν…μ¤νΈν•λ” λ°λ©΄ ν†µν•© ν…μ¤νΈλ” μ—¬λ¬ λ¨λ“μ„ ν•¨κ» ν…μ¤νΈν•΄μ„ μ •μƒμ μΈ λ΅μ§ μν–‰μ΄ κ°€λ¥ν•μ§€λ¥Ό ν™•μΈ.

<br>
<br>

### ν…μ¤νΈ μ½”λ“ μ‘μ„± μ”λ Ή
**Given-When-Then ν¨ν„΄**

**Given** - ν…μ¤νΈλ¥Ό μν–‰ν•κΈ° μ „μ— ν…μ¤νΈμ— ν•„μ”ν• ν™κ²½μ„ μ„¤μ •ν•λ” λ‹¨κ³„.<br>
- ν…μ¤νΈμ— ν•„μ”ν• λ³€μλ¥Ό μ •μν•κ±°λ‚ Mock κ°μ²΄λ¥Ό ν†µν•΄ νΉμ • μƒν™©μ— λ€ν• ν–‰λ™μ„ μ •μ.

**When** - ν…μ¤νΈμ λ©μ μ„ λ³΄μ—¬μ£Όλ” λ‹¨κ³„.<br>
- μ‹¤μ  ν…μ¤νΈ μ½”λ“κ°€ ν¬ν•¨λλ©°, ν…μ¤νΈλ¥΄ ν†µν• κ²°κ΄κ°’μ„ κ°€μ Έμ¤κ² λ¨.

**Then** - ν…μ¤νΈμ κ²°κ³Όλ¥Ό κ²€μ¦ν•λ” λ‹¨κ³„.<br>
- When λ‹¨κ³„μ—μ„ λ‚μ¨ κ²°κ΄κ°’μ„ κ²€μ¦ν•λ” μ‘μ—…μ„ μν–‰.<br>
- ν…μ¤νΈλ¥Ό ν†µν•΄ λ‚μ¨ κ²°κ³Όμ—μ„ κ²€μ¦ν•΄μ•Ό ν•λ” λ¶€λ¶„μ΄ μλ‹¤λ©΄ μ΄ λ‹¨κ³„μ— ν¬ν•¨.

<br>

---

<br>

## π›΅οΈ JUnit
- ν…μ¤νΈ ν”„λ μ„μ›ν¬λ΅ λ‹¨μ„ ν…μ¤νΈλ¥Ό μ„ν• λ„κµ¬λ¥Ό μ κ³µ. <br>
- ν†µν•© ν…μ¤νΈλ„ μ§€μ›ν•κ³  μ–΄λ…Έν…μ΄μ… κΈ°λ°μ ν…μ¤νΈ λ°©μ‹μ„ μ§€μ›.<br>
- κ·Έλμ„ λ‡ κ°μ μ–΄λ…Έν…μ΄μ…λ§μΌλ΅ κ°„νΈν•κ² ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„± κ°€λ¥.<br>
- λ‹¨μ •λ¬Έ(assert)μ„ ν†µν•΄ ν…μ¤νΈ μΌ€μ΄μ¤μ κΈ°λ“κ°’μ΄ μ •μƒμ μΌλ΅ λ„μ¶λλ”μ§€ κ²€ν†  κ°€λ¥.

<br>

**@WebMvcTest(ν…μ¤νΈ λ€μƒ.class)** <br>
μ›Ήμ—μ„ μ‚¬μ©λλ” μ”μ²­κ³Ό μ‘λ‹µμ— λ€ν• ν…μ¤νΈλ¥Ό μν–‰ κ°€λ¥.<br>
λ€μƒ ν΄λμ¤λ§ λ΅λ“ν•΄ ν…μ¤νΈλ¥Ό μν–‰ν•λ©°, λ§μ•½ λ€μƒ ν΄λμ¤λ¥Ό μ¶”κ°€ν•μ§€ μ•μΌλ©΄ @Controller, @RestController, @ControllerAdvice λ“±μ μ»¨νΈλ΅¤λ¬ κ΄€λ ¨ λΉ κ°μ²΄κ°€ λ¨λ‘ λ΅λ“λλ‹¤.<br>
@SpringBootTest λ³΄λ‹¤ κ°€λ³κ² ν…μ¤νΈν•κΈ° μ„ν•΄ μ‚¬μ©.

<br>

**@MockBean**<br>
@MockBeanμ€ μ‹¤μ  λΉ κ°μ²΄κ°€ μ•„λ‹ Mock(κ°€μ§) κ°μ²΄λ¥Ό μƒμ„±ν•΄μ„ μ£Όμ…ν•λ” μ—­ν• μ„ μν–‰.<br>
@MockBeanμ΄ μ„ μ–Έλ κ°μ²΄λ” μ‹¤μ  κ°μ²΄κ°€ μ•„λ‹κΈ° λ•λ¬Έμ— μ‹¤μ  ν–‰μ„λ¥Ό μν–‰ν•μ§€ μ•μ.<br>
κ·Έλμ„ ν•΄λ‹Ή κ°μ²΄λ” κ°λ°μκ°€ Mockitoμ given() λ©”μ„λ“λ¥Ό ν†µν•΄ λ™μ‘μ„ μ •μν•΄μ•Ό ν•λ‹¤.

**@Test**<br>
ν…μ¤νΈ μ½”λ“κ°€ ν¬ν•¨λΌ μλ‹¤κ³  μ„ μ–Έν•λ” μ–΄λ…Έν…μ΄μ…μ΄λ©°, Jnit Jupiterμ—μ„λ” μ΄ μ–΄λ…Έν…μ΄μ…μ„ κ°μ§€ν•΄μ„ ν…μ¤νΈ κ³„νμ— ν¬ν•¨μ‹ν‚¨λ‹¤.

**@DisplayName**<br>
ν…μ¤νΈ λ©”μ„λ“μ μ΄λ¦„μ΄ λ³µμ΅ν•΄μ„ κ°€λ…μ„±μ΄ λ–¨μ–΄μ§ κ²½μ° μ΄ μ–΄λ…Έν…μ΄μ…μ„ ν†µν•΄ ν…μ¤νΈμ— λ€ν• ν‘ν„μ„ μ •μ.

<br>

---

<br>

## π›΅οΈ Spring Security


<br>

---

<br>

## π›΅οΈ JWT


<br>

---

<br>